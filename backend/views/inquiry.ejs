<%- include('partials/header') %>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h1 class="mb-4">Buyer Inquiry & Pre-qualification</h1>
            <p class="lead mb-4">Please fill out the form below to submit your inquiry. Our team will contact you soon.</p>

            <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-danger">
                <%= error %>
            </div>
            <% } %>

            <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
            <div class="alert alert-danger">
                <ul class="mb-0">
                    <% errors.forEach(err => { %>
                    <li><%= err.msg %></li>
                    <% }); %>
                </ul>
            </div>
            <% } %>

            <form action="/inquiry" method="POST" class="needs-validation" novalidate>
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Company Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="companyName" class="form-label">Company Name *</label>
                            <input type="text" class="form-control" id="companyName" name="companyName" 
                                   value="<%= typeof formData !== 'undefined' && formData.companyName ? formData.companyName : '' %>" required>
                        </div>

                        <div class="mb-3">
                            <label for="contactPerson" class="form-label">Contact Person *</label>
                            <input type="text" class="form-control" id="contactPerson" name="contactPerson" 
                                   value="<%= typeof formData !== 'undefined' && formData.contactPerson ? formData.contactPerson : '' %>" required>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label">Email *</label>
                                <input type="email" class="form-control" id="email" name="email" 
                                       value="<%= typeof formData !== 'undefined' && formData.email ? formData.email : '' %>" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label">Phone *</label>
                                <input type="tel" class="form-control" id="phone" name="phone" 
                                       value="<%= typeof formData !== 'undefined' && formData.phone ? formData.phone : '' %>" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="country" class="form-label">Country *</label>
                            <input type="text" class="form-control" id="country" name="country" 
                                   value="<%= typeof formData !== 'undefined' && formData.country ? formData.country : '' %>" required>
                        </div>

                        <div class="mb-3">
                            <label for="address" class="form-label">Address</label>
                            <textarea class="form-control" id="address" name="address" rows="3"><%= typeof formData !== 'undefined' && formData.address ? formData.address : '' %></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="website" class="form-label">Website</label>
                            <input type="url" class="form-control" id="website" name="website" 
                                   value="<%= typeof formData !== 'undefined' && formData.website ? formData.website : '' %>" placeholder="https://">
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Business Details</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="businessType" class="form-label">Business Type</label>
                            <input type="text" class="form-control" id="businessType" name="businessType" 
                                   value="<%= typeof formData !== 'undefined' && formData.businessType ? formData.businessType : '' %>" 
                                   placeholder="e.g., Retailer, Wholesaler, Distributor">
                        </div>

                        <div class="mb-3">
                            <label for="annualVolume" class="form-label">Annual Volume</label>
                            <input type="text" class="form-control" id="annualVolume" name="annualVolume" 
                                   value="<%= typeof formData !== 'undefined' && formData.annualVolume ? formData.annualVolume : '' %>" 
                                   placeholder="e.g., 10,000 units">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Preferred Categories</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="preferredCategories" value="T-shirts" id="cat-tshirts"
                                       <%= typeof formData !== 'undefined' && formData.preferredCategories && formData.preferredCategories.includes('T-shirts') ? 'checked' : '' %>>
                                <label class="form-check-label" for="cat-tshirts">T-shirts</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="preferredCategories" value="Gents Wear" id="cat-gents"
                                       <%= typeof formData !== 'undefined' && formData.preferredCategories && formData.preferredCategories.includes('Gents Wear') ? 'checked' : '' %>>
                                <label class="form-check-label" for="cat-gents">Gents Wear</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="preferredCategories" value="Ladies Wear" id="cat-ladies"
                                       <%= typeof formData !== 'undefined' && formData.preferredCategories && formData.preferredCategories.includes('Ladies Wear') ? 'checked' : '' %>>
                                <label class="form-check-label" for="cat-ladies">Ladies Wear</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="preferredCategories" value="Kids Wear" id="cat-kids"
                                       <%= typeof formData !== 'undefined' && formData.preferredCategories && formData.preferredCategories.includes('Kids Wear') ? 'checked' : '' %>>
                                <label class="form-check-label" for="cat-kids">Kids Wear</label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="requirements" class="form-label">Requirements / Special Requests</label>
                            <textarea class="form-control" id="requirements" name="requirements" rows="4"><%= typeof formData !== 'undefined' && formData.requirements ? formData.requirements : '' %></textarea>
                        </div>
                    </div>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary btn-lg">Submit Inquiry</button>
                    <a href="/" class="btn btn-outline-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>

<%- include('partials/footer') %>

